<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>西卡图书</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
   <style>
        #个人介绍{
            background: #f8f8f8;
            color: #666666;
            padding: 8px 20px;
            margin: 0 0 40px 0; 
        }

        input{
            border:none;
            border-radius:0;
            border-bottom:#8D8D8D 1px solid;
            box-shadow: 0px 0px 0px 0px;
        }

    </style>
   
  
</head>
<body>
      <!-- 顶层导航-->
      <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">西卡图书</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li><a href="home.html">首页</a></li>
                    <li><a href="BookTop.html">图书榜</a></li>
                    <li><a href="cart.html">我的订单</a></li>
                    <li  class="active"><a href="#">个人中心</a></li>
                </ul>
            </div>
        </div>
    </nav>

      <!--左侧导航，右侧内容-->
      <div class="container">
        <div class="row">
            <div class="col-md-2" style="margin-left:-10px;">
                <div class="col" id="program">
                    <h3>快捷索引</h3>
                    <ul class="nav nav-pills nav-stacked">
                        <li><a href="#个人介绍">个人介绍</a></li>
                        <li><a href="#个人信息">个人信息</a></li>
                        <li><a href="#我的书票">我的书票</a></li>
                        <li><a href="#管理中心">管理中心</a></li>
                    </ul>
                </div>
                <!--分割线-->
                <script>
                    $.getJSON("phpFiles/showPlan.php?jsoncallback=?", function (data) {
                        var html = '<hr class="hidden-sm hidden-md hidden-lg">'
                            + '<h3>阅读计划</h3>' + ' <ul class="nav nav-pills nav-stacked">';
                        //处理数据,整理成html格式
                        for (var i = 1; i < data.length; ++i) {
                            html += '<li> <a href="details/' + data[i] + '.html">' + data[i] + '</a></li>';
                        }
                        html += '</ul>';
                        $('#program').after(html);
                    });
                </script>
                <hr class="hidden-sm hidden-md hidden-lg">
            </div>
            <!--主内容-->
            <div class="col-md-10" >
                <!--TODO:加上头像和名称-->
                <div  class="clearfix" id="clearfix">
                    <div class="pic col-md-1" id="user-profile">                   
                        <img width="70" height="70" src="https://cdn.jsdelivr.net/gh/sevenxqq/pics/20210601165133.jpg" alt="图片加载失败">
                    </div>
                    <script>
                        //欢迎语，个人介绍
                        $.getJSON("phpFiles/intro.php?jsoncallback=?", function (data) {
                            var html = '<div class="info col-md-4"> <h1> Welcome,'+ data[0] + '</h1> </div>';      
                            $('#user-profile').after(html);
                            html =' <br> <div class> <h4>'+ data[0] +',这里是你的主页，也是别人认识你的地方。完善你的个人资料，开始全新的读书之旅吧 </h4>';
                            $('#clearfix').after(html);
                            html =  '<form  action="phpFiles/modify.php" method="post">'
                                    + ' <label><input class="text" type="text" maxlength="100" placeholder="补充下个人介绍吧" name="intro"  value='+ data[1]
                                    + ' style="width: 800px; height: 150px; " required/> <br>';
                            html+='<label> <button type="submit" name = "submit" value="个人介绍" >提交修改</button> </label>';
                            html+= '</form>';
                            $('#个人介绍').append(html);
                        });
                    </script>
                </div>
                <div class="col-md-12" id="个人介绍">
                    <h3 style="color: rgb(15, 148, 97);">个人介绍</h3>
                </div>

                <hr class="hidden-sm hidden-md hidden-lg">
                <div class="col-md-12" id="个人信息">
                    <h3>个人信息</h3>
                    <script>
                        //个人信息
                        $.getJSON("phpFiles/info.php?jsoncallback=?", function (data) {
                            html =  '<form  action="phpFiles/modify.php" method="post">'
                                    + ' <label> 用户名：<input class="text" type="text" name="username"  value='+ data[0] + ' readonly> </label> <br> ';
                            html+= ' <label> 密码：<input class="text" type="password" name="userpassword"  value='+ data[1] + ' required/> </label> <br> ';
                            html+= ' <label> 邮箱：<input class="text" type="email" name="myemail"  value='+ data[2] + ' required/> </label> <br> ';
                            html+='<label> <button type="submit" name = "submit" value="个人信息" >提交修改</button> </label>';
                            html+= '</form>';
                            $('#个人信息').append(html);
                        });
                    </script>
                </div>
                <hr class="hidden-sm hidden-md hidden-lg">
                <br>
                <div class="col-md-12" id="我的书票">
                    <h3>我的书票</h3>
                    <script>
                        //我的书票
                        $.getJSON("phpFiles/info.php?jsoncallback=?", function (data) {
                            html =  '<form  action="phpFiles/modify.php" method="post">'
                                    + ' <label>书票值：<input class="text" type="text" name="myticket"  value='+ data[3] + '  readonly> </label> <br> ';
                            html+= ' <label> 充值数：<input class="text" type="number" name="recharge" min=1 max=1000 required/> </label> <br> ';
                            html+='<label> <button type="submit" name = "submit" value="我的书票" >提交修改</button> </label>';
                            html+= '</form>';
                            $('#我的书票').append(html);
                        });
                    </script>
                </div>
                <div class="col-md-12">
                    <h3>管理中心</h3>
                    <form  action="phpFiles/admin.php" method="post">            
                        <label><button type="submit" name = "admin" value="admin" >GO</button> </label>             
                    </form>
                </div>

                <hr class="hidden-sm hidden-md hidden-lg">
            </div>
        </div> <!--布局-->
    </div>

      <!--版权说明-->
      <div class="jumbotron text-center" style="margin-bottom:0">
        <p>版权所有 @work_Jessica</p>
    </div>
</body>
</html>